{"ast":null,"code":"import { ElementRef, LOCALE_ID } from '@angular/core';\nimport { FormControl, NgControl, NgModel } from '@angular/forms';\nimport { MatKeyboardService, MAT_KEYBOARD_LAYOUTS } from 'angular-onscreen-material-keyboard';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"angular-onscreen-material-keyboard\";\nimport * as i2 from \"@angular/material/tabs\";\nimport * as i3 from \"@angular/material/icon\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/slide-toggle\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/select\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/material/core\";\nimport * as i10 from \"@angular/material/form-field\";\nimport * as i11 from \"@angular/material/input\";\nimport * as i12 from \"../../core/src/directives/keyboard.directive\";\nconst _c0 = [\"attachTo\"];\n\nfunction AppComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"keyboard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \" Keyboard variants \");\n  }\n}\n\nfunction AppComponent_mat_option_17_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const layout_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(\", layout_r8.name, \")\");\n  }\n}\n\nfunction AppComponent_mat_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, AppComponent_mat_option_17_ng_container_2_Template, 2, 1, \"ng-container\", 24);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const layout_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", layout_r8.layout.lang && layout_r8.layout.lang[0] || layout_r8.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", layout_r8.layout.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", layout_r8.layout.name !== layout_r8.name);\n  }\n}\n\nfunction AppComponent_ng_template_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"assignment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \" Test form \");\n  }\n}\n\nfunction AppComponent_pre_82_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtext(3, \"\\n            \");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const submitedValue_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\\n              \", submitedValue_r13.control, \": \", submitedValue_r13.value, \"\");\n  }\n}\n\nfunction AppComponent_pre_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"pre\");\n    i0.ɵɵtext(1, \"            \");\n    i0.ɵɵtemplate(2, AppComponent_pre_82_ng_container_2_Template, 4, 2, \"ng-container\", 21);\n    i0.ɵɵtext(3, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const submittedForm_r11 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", submittedForm_r11);\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(_keyboardService, locale, _layouts) {\n      this._keyboardService = _keyboardService;\n      this.locale = locale;\n      this._layouts = _layouts;\n      this._submittedForms = new BehaviorSubject([]);\n      this.testModelValue = 'Sushi';\n      this.attachModelValue = '';\n      this.testControlValue = new FormControl({\n        value: 'Emmentaler',\n        disabled: false\n      });\n    }\n\n    get submittedForms() {\n      return this._submittedForms.asObservable();\n    }\n\n    get keyboardVisible() {\n      return this._keyboardService.isOpened;\n    }\n\n    ngOnInit() {\n      this.defaultLocale = ` ${this.locale}`.slice(1);\n      this.layouts = Object.keys(this._layouts).map(name => ({\n        name,\n        layout: this._layouts[name]\n      })).sort((a, b) => a.layout.name.localeCompare(b.layout.name));\n    }\n\n    ngOnDestroy() {\n      this.closeCurrentKeyboard();\n    }\n\n    submitForm(form) {\n      const submittedForms = this._submittedForms.getValue();\n\n      const submittedForm = Object.keys(form.controls).map(control => ({\n        control,\n        value: form.controls[control].value\n      }));\n      submittedForms.push(submittedForm);\n\n      this._submittedForms.next(submittedForms);\n    }\n\n    openKeyboard(locale = this.defaultLocale) {\n      this._keyboardRef = this._keyboardService.open(locale, {\n        darkTheme: this.darkTheme,\n        duration: this.duration,\n        isDebug: this.isDebug\n      });\n      this._enterSubscription = this._keyboardRef.instance.enterClick.subscribe(() => {\n        this.submitForm();\n      });\n    }\n\n    closeCurrentKeyboard() {\n      if (this._keyboardRef) {\n        this._keyboardRef.dismiss();\n      }\n\n      if (this._enterSubscription) {\n        this._enterSubscription.unsubscribe();\n      }\n    }\n\n    openAttachedKeyboard(locale = this.defaultLocale) {\n      this._keyboardRef = this._keyboardService.open(locale, {\n        darkTheme: this.darkTheme,\n        duration: this.duration,\n        isDebug: this.isDebug\n      }); // reference the input element\n\n      this._keyboardRef.instance.setInputInstance(this._attachToElement); // set control\n\n\n      this._keyboardRef.instance.attachControl(this._attachToControl.control);\n    }\n\n    toggleDebug(toggle) {\n      this.isDebug = toggle.checked;\n      this._keyboardRef.instance.isDebug = this.isDebug;\n    }\n\n    toggleDarkTheme(toggle) {\n      this.darkTheme = toggle.checked;\n      this._keyboardRef.instance.darkTheme = this.darkTheme;\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.MatKeyboardService), i0.ɵɵdirectiveInject(LOCALE_ID), i0.ɵɵdirectiveInject(MAT_KEYBOARD_LAYOUTS));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"mat-keyboard-demo-root\"]],\n    viewQuery: function AppComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7, ElementRef);\n        i0.ɵɵviewQuery(_c0, 7, NgModel);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx._attachToElement = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx._attachToControl = _t.first);\n      }\n    },\n    decls: 87,\n    vars: 28,\n    consts: [[\"mat-tab-label\", \"\"], [1, \"content\", \"content-keyboard-variants\"], [1, \"row\"], [1, \"col\"], [3, \"checked\", \"disabled\", \"change\"], [\"mat-raised-button\", \"\", \"type\", \"button\", \"aria-label\", \"Open default keyboard\", 3, \"click\"], [\"name\", \"layout\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"mat-raised-button\", \"\", \"type\", \"button\", \"aria-label\", \"Open selected keyboard\", 3, \"click\"], [\"mat-raised-button\", \"\", \"type\", \"button\", \"aria-label\", \"Hide the example keyboard\", 3, \"click\"], [\"matInput\", \"\", \"placeholder\", \"Attach me if you can\", \"name\", \"attach\", 3, \"ngModel\", \"ngModelChange\"], [\"attachTo\", \"\"], [\"mat-raised-button\", \"\", \"type\", \"button\", \"aria-label\", \"Attach default keyboard\", 3, \"click\"], [\"novalidate\", \"\", 1, \"content\", \"content-test-form\", 3, \"ngSubmit\"], [\"form\", \"ngForm\"], [\"matInput\", \"\", \"matKeyboard\", \"\", \"name\", \"sushi\", 3, \"darkTheme\", \"active\", \"anchor\", \"placeholder\", \"ngModel\", \"ngModelChange\", \"enterClick\"], [\"type\", \"number\", \"matInput\", \"\", \"placeholder\", \"Swiss bank combination lock\", \"name\", \"safe\", 3, \"matKeyboard\", \"value\", \"enterClick\"], [\"testSimpleValue\", \"\"], [\"matInput\", \"\", \"matKeyboard\", \"\", \"placeholder\", \"Something with cheese\", \"name\", \"emmentaler\", 3, \"formControl\", \"enterClick\"], [\"matInput\", \"\", \"ngModel\", \"\", \"name\", \"azerbaijani\", \"placeholder\", \"Az\\u0259rbaycanca\", 3, \"matKeyboard\", \"enterClick\"], [\"testModelReference\", \"ngModel\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", \"aria-label\", \"Submit form\"], [3, \"value\"], [4, \"ngIf\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r14 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"mat-tab-group\")(1, \"mat-tab\");\n        i0.ɵɵtemplate(2, AppComponent_ng_template_2_Template, 3, 0, \"ng-template\", 0);\n        i0.ɵɵelementStart(3, \"form\", 1)(4, \"section\", 2)(5, \"div\", 3)(6, \"mat-slide-toggle\", 4);\n        i0.ɵɵlistener(\"change\", function AppComponent_Template_mat_slide_toggle_change_6_listener($event) {\n          return ctx.toggleDebug($event);\n        });\n        i0.ɵɵtext(7, \" Debug special keys \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 3)(9, \"mat-slide-toggle\", 4);\n        i0.ɵɵlistener(\"change\", function AppComponent_Template_mat_slide_toggle_change_9_listener($event) {\n          return ctx.toggleDarkTheme($event);\n        });\n        i0.ɵɵtext(10, \" Dark theme \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(11, \"section\", 2)(12, \"div\", 3)(13, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_13_listener() {\n          return ctx.openKeyboard(ctx.defaultLocale);\n        });\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 3)(16, \"mat-select\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_mat_select_ngModelChange_16_listener($event) {\n          return ctx.locale = $event;\n        });\n        i0.ɵɵtemplate(17, AppComponent_mat_option_17_Template, 3, 3, \"mat-option\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_18_listener() {\n          return ctx.openKeyboard(ctx.locale);\n        });\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 3)(21, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_21_listener() {\n          return ctx.closeCurrentKeyboard();\n        });\n        i0.ɵɵtext(22, \" Close keyboard \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"section\", 2)(24, \"div\", 3)(25, \"mat-form-field\")(26, \"input\", 10, 11);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.attachModelValue = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"mat-hint\");\n        i0.ɵɵtext(29, \"Input to attach keyboard to\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"pre\");\n        i0.ɵɵtext(31);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(32, \"div\", 3)(33, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_33_listener() {\n          return ctx.openAttachedKeyboard(ctx.defaultLocale);\n        });\n        i0.ɵɵtext(34);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(35, \"mat-tab\");\n        i0.ɵɵtemplate(36, AppComponent_ng_template_36_Template, 3, 0, \"ng-template\", 0);\n        i0.ɵɵelementStart(37, \"form\", 13, 14);\n        i0.ɵɵlistener(\"ngSubmit\", function AppComponent_Template_form_ngSubmit_37_listener() {\n          i0.ɵɵrestoreView(_r14);\n\n          const _r4 = i0.ɵɵreference(38);\n\n          return _r4.valid && ctx.submitForm(_r4);\n        });\n        i0.ɵɵelementStart(39, \"section\", 2)(40, \"div\", 3)(41, \"mat-form-field\")(42, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_42_listener($event) {\n          return ctx.testModelValue = $event;\n        })(\"enterClick\", function AppComponent_Template_input_enterClick_42_listener() {\n          i0.ɵɵrestoreView(_r14);\n\n          const _r4 = i0.ɵɵreference(38);\n\n          return ctx.submitForm(_r4);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"mat-hint\");\n        i0.ɵɵtext(44, \"Using \");\n        i0.ɵɵelementStart(45, \"code\");\n        i0.ɵɵtext(46, \"ngModel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(47, \" two way binding\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(48, \"pre\");\n        i0.ɵɵtext(49);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(50, \"div\", 3)(51, \"mat-form-field\")(52, \"input\", 16, 17);\n        i0.ɵɵlistener(\"enterClick\", function AppComponent_Template_input_enterClick_52_listener() {\n          i0.ɵɵrestoreView(_r14);\n\n          const _r4 = i0.ɵɵreference(38);\n\n          return ctx.submitForm(_r4);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"mat-hint\");\n        i0.ɵɵtext(55, \"Simple \");\n        i0.ɵɵelementStart(56, \"code\");\n        i0.ɵɵtext(57, \"Element.value\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(58, \" binding\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(59, \"pre\");\n        i0.ɵɵtext(60);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(61, \"div\", 3)(62, \"mat-form-field\")(63, \"input\", 18);\n        i0.ɵɵlistener(\"enterClick\", function AppComponent_Template_input_enterClick_63_listener() {\n          i0.ɵɵrestoreView(_r14);\n\n          const _r4 = i0.ɵɵreference(38);\n\n          return ctx.submitForm(_r4);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"mat-hint\");\n        i0.ɵɵtext(65, \"Reactive binding with \");\n        i0.ɵɵelementStart(66, \"code\");\n        i0.ɵɵtext(67, \"formControl\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(68, \"pre\");\n        i0.ɵɵtext(69);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(70, \"div\", 3)(71, \"mat-form-field\")(72, \"input\", 19, 20);\n        i0.ɵɵlistener(\"enterClick\", function AppComponent_Template_input_enterClick_72_listener() {\n          i0.ɵɵrestoreView(_r14);\n\n          const _r4 = i0.ɵɵreference(38);\n\n          return ctx.submitForm(_r4);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"mat-hint\")(75, \"code\");\n        i0.ɵɵtext(76, \"ngModel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(77, \" access by template binding\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(78, \"pre\");\n        i0.ɵɵtext(79);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(80, \"section\", 2)(81, \"div\", 3);\n        i0.ɵɵtemplate(82, AppComponent_pre_82_Template, 4, 1, \"pre\", 21);\n        i0.ɵɵpipe(83, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(84, \"div\", 3)(85, \"button\", 22);\n        i0.ɵɵtext(86, \" Submit \");\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        const _r5 = i0.ɵɵreference(53);\n\n        const _r6 = i0.ɵɵreference(73);\n\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"checked\", ctx.isDebug)(\"disabled\", !ctx.keyboardVisible);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"checked\", ctx.darkTheme)(\"disabled\", !ctx.keyboardVisible);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" Open default keyboard (\", ctx.defaultLocale, \") \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"placeholder\", \"select layout\")(\"ngModel\", ctx.locale);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.layouts);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" Open selected keyboard (\", ctx.locale, \") \");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.attachModelValue);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.attachModelValue);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" Attach default keyboard (\", ctx.defaultLocale, \") \");\n        i0.ɵɵadvance(8);\n        i0.ɵɵpropertyInterpolate1(\"placeholder\", \"From detected locale (\", ctx.locale, \")\");\n        i0.ɵɵproperty(\"darkTheme\", true)(\"active\", false)(\"anchor\", \"top\")(\"ngModel\", ctx.testModelValue);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.testModelValue);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"matKeyboard\", \"de-CH\")(\"value\", 123);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(_r5.value);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formControl\", ctx.testControlValue);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.testControlValue.value);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"matKeyboard\", \"Az\\u0259rbaycanca\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(_r6.value);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(83, 26, ctx.submittedForms));\n      }\n    },\n    directives: [i2.MatTabGroup, i2.MatTab, i2.MatTabLabel, i3.MatIcon, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i5.MatSlideToggle, i6.MatButton, i7.MatSelect, i4.NgControlStatus, i4.NgModel, i8.NgForOf, i9.MatOption, i8.NgIf, i10.MatFormField, i11.MatInput, i4.DefaultValueAccessor, i10.MatHint, i12.MatKeyboardDirective, i4.FormControlDirective],\n    pipes: [i8.AsyncPipe],\n    styles: [\".content[_ngcontent-%COMP%]{margin:40px 32px}.row[_ngcontent-%COMP%]{align-items:flex-end;display:grid;grid-gap:16px;grid-template-columns:repeat(auto-fit,minmax(245px,1fr));padding:8px}.content-test-form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-of-type > .col[_ngcontent-%COMP%]:last-of-type{align-self:flex-start;padding-top:8px}.col[_ngcontent-%COMP%]{position:relative}.col[_ngcontent-%COMP%] > .mat-input-container[_ngcontent-%COMP%]{display:block}.mat-raised-button[_ngcontent-%COMP%]{width:100%}.mat-select[_ngcontent-%COMP%] + .mat-raised-button[_ngcontent-%COMP%]{margin-top:24px}.mat-select[_ngcontent-%COMP%]{display:block}pre[_ngcontent-%COMP%]{background-color:#e0e0e0;border-radius:3px;display:block;font:11px/1.5 Monospaced,monospace;margin:8px 0;min-height:16px;padding:4px 8px;white-space:normal}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}